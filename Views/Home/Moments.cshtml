@{
    ViewData["Title"] = "üé¨ Moments";
}

<style>
    .moments-container {
        max-width: 800px;
        margin: 40px auto;
        padding: 30px;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    .moments-header {
        text-align: center;
        color: white;
        margin-bottom: 30px;
    }
    .moments-header h1 {
        font-size: 32px;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
    .input-section {
        background: white;
        padding: 30px;
        border-radius: 10px;
        margin-bottom: 30px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .input-section label {
        font-weight: bold;
        color: #333;
        margin-bottom: 10px;
        display: block;
        font-size: 18px;
    }
    .input-section input {
        width: 100%;
        padding: 12px;
        border: 2px solid #f5576c;
        border-radius: 8px;
        font-size: 16px;
        box-sizing: border-box;
    }
    .input-section input:focus {
        border-color: #f093fb;
        box-shadow: 0 0 0 0.2rem rgba(245, 87, 108, 0.25);
        outline: none;
    }
    .submit-btn {
        width: 100%;
        padding: 12px;
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        margin-top: 15px;
        transition: transform 0.2s;
    }
    .submit-btn:hover {
        transform: scale(1.02);
    }
    .hint {
        color: #666;
        font-size: 14px;
        margin-top: 10px;
        font-style: italic;
    }
    .photo-gallery {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-top: 20px;
    }
    .photo-card {
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
    }
    .photo-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.2);
    }
    .photo-card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
    }
    .photo-number {
        padding: 15px;
        text-align: center;
        font-weight: bold;
        color: #f5576c;
        background: #f9f9f9;
    }
    .error-msg {
        background: #f8d7da;
        color: #721c24;
        padding: 15px;
        border-radius: 8px;
        margin-top: 20px;
        text-align: center;
        border: 1px solid #f5c6cb;
    }
    .success-msg {
        background: white;
        padding: 20px;
        border-radius: 10px;
        text-align: center;
        margin-bottom: 30px;
    }
    .success-msg h2 {
        color: #f5576c;
        margin-bottom: 20px;
    }
    .photo-card {
        cursor: pointer;
    }
    .modal {
        display: none;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.8);
        animation: fadeIn 0.3s ease-out;
    }
    .modal.show {
        display: flex;
        align-items: center;
        justify-content: center;
    }
    @@keyframes fadeIn {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }
    .modal-content {
        background: white;
        padding: 40px;
        border-radius: 20px;
        max-width: 500px;
        text-align: center;
        box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        animation: popOut 0.4s ease-out;
    }
    @@keyframes popOut {
        from {
            transform: scale(0.5);
            opacity: 0;
        }
        to {
            transform: scale(1);
            opacity: 1;
        }
    }
    .modal-image {
        width: 100%;
        max-width: 400px;
        height: 300px;
        object-fit: cover;
        border-radius: 15px;
        margin-bottom: 20px;
    }
    .modal-moment-title {
        font-size: 24px;
        font-weight: bold;
        color: #f5576c;
        margin-bottom: 15px;
    }
    .modal-description {
        color: #666;
        line-height: 1.6;
        margin-bottom: 20px;
        font-size: 15px;
    }
    .modal-close {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        color: white;
        border: none;
        padding: 10px 30px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        transition: transform 0.2s;
    }
    .modal-close:hover {
        transform: scale(1.05);
    }
</style>

<div class="moments-container">
    <div class="moments-header">
        <h1>@ViewData["Title"]</h1>
        <p>Unlock your moments! üì∏</p>
    </div>

    <form method="post">
        <div class="input-section" id="inputSection" style="display: @(ViewBag.ShowPhotos == true ? "none" : "block");">
            <input type="text" id="category" name="category" autocomplete="off" />
            <p class="hint">üí° Hint: Enter My Phone Number Without Looking On Phone</p>
            <button type="submit" class="submit-btn">Check If You Remeber</button>
        </div>
    </form>

    @if (ViewBag.ShowPhotos == true)
    {
        <div class="success-msg">
            <h2>üéâ Found 10 Amazing Moments!</h2>
        </div>
        <div class="photo-gallery">
            @for (int i = 1; i <= 10; i++)
            {
                <div class="photo-card" onclick="openModal(@i)">
                    <img src="~/images/download.jpeg" alt="Moment @i" />
                    <div class="photo-number">Moment @i</div>
                </div>
            }
        </div>
    }
    else if (ViewBag.ShowError == true)
    {
        <div class="error-msg">
            ‚ùå Oops! Seriously yaaaar, Tumna pyaar nahi karti ho üò•
        </div>
    }
</div>

<!-- Modal for Photo Details -->
<div id="photoModal" class="modal">
    <div class="modal-content" onclick="event.stopPropagation()">
        <img id="modalImage" src="" alt="Moment" class="modal-image" />
        <div class="modal-moment-title" id="modalTitle"></div>
        <div class="modal-description" id="modalDescription"></div>
        <button class="modal-close" onclick="closeModal()">Close</button>
    </div>
</div>

<script>
    const photoDescriptions = [
        "This moment captures a beautiful sunset with golden light reflecting off the water. The serene atmosphere and vibrant colors make it a perfect memory to cherish forever.",
        "A candid shot of joy and laughter shared with loved ones. This photo reminds us of the precious moments that make life meaningful and worth celebrating.",
        "Nature's masterpiece frozen in time. The intricate details and natural beauty showcased here are a testament to the wonders of the world around us.",
        "An unexpected adventure that turned into an unforgettable memory. Every journey begins with a single step, and this moment marks the beginning of something special.",
        "The quiet beauty of solitude in a crowded world. Sometimes the most meaningful moments are the ones we experience alone, reflecting and appreciating life.",
        "Friendship goals achieved! This photo perfectly captures the bond shared between kindred spirits. True friends are the family we choose for ourselves.",
        "A burst of colors and energy that defines youth and freedom. This moment represents endless possibilities and the exciting adventures that lie ahead.",
        "Capturing the essence of togetherness and warmth. In a world of chaos, these moments of connection remind us why we keep moving forward.",
        "The beauty of imperfection and authenticity shines through in this genuine moment. Real life is messy, beautiful, and absolutely worth photographing.",
        "An eternal reminder of a time when everything felt possible. This moment is a snapshot of dreams, hopes, and the incredible journey we're all on."
    ];

    function openModal(momentNumber) {
        const modal = document.getElementById('photoModal');
        document.getElementById('modalImage').src = '/images/download.jpeg';
        document.getElementById('modalTitle').textContent = 'Moment ' + momentNumber;
        document.getElementById('modalDescription').textContent = photoDescriptions[momentNumber - 1];
        modal.classList.add('show');
    }

    function closeModal() {
        const modal = document.getElementById('photoModal');
        modal.classList.remove('show');
    }

    // Close modal when clicking outside the content
    document.getElementById('photoModal').addEventListener('click', function(event) {
        if (event.target === this) {
            closeModal();
        }
    });
</script>
